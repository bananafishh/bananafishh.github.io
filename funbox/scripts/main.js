"use strict";!function(){var t,s,a,r=Array.prototype.slice.call(document.querySelectorAll(".js-card")),d=document.querySelectorAll(".js-card-btn"),e=Array.prototype.slice.call(document.querySelectorAll(".js-card-img"));function i(){var s=0;r.forEach(function(e){e.style.height="auto";var t=e.offsetHeight;s<t&&(s=t)}),r.forEach(function(e){e.style.height="".concat(s,"px")})}function c(){var e=this.parentNode.querySelector(".js-card-caption"),t=this.parentNode.querySelector(".js-card-descr"),s=this.querySelector("[aria-pressed]"),a="true"===s.getAttribute("aria-pressed");this.classList.contains("card--abandoned")?(this.classList.remove("card--abandoned"),e.classList.remove("is-hidden"),t.classList.add("is-visually-hidden")):this.classList.contains("card--disabled")||(this.classList.toggle("card--selected"),s.setAttribute("aria-pressed",String(!a)),e.classList.toggle("is-hidden"),t.classList.toggle("is-visually-hidden"))}function n(){var e=this.parentNode,t=e.parentNode.querySelector(".js-card"),s=e.parentNode.querySelector(".js-card-descr"),a=t.querySelector("[aria-pressed]");t.classList.contains("card--disabled")||(t.classList.remove("card--abandoned"),t.classList.add("card--selected"),a.setAttribute("aria-pressed",!0),e.classList.add("is-hidden"),s.classList.remove("is-visually-hidden"))}function l(){this.classList.contains("card--selected")&&(this.classList.remove("card--selected"),this.classList.add("card--abandoned"))}function o(){this.classList.contains("card--abandoned")&&(this.classList.remove("card--abandoned"),this.classList.add("card--selected"))}s=i,a=0,(t=e).forEach(function(e){e.complete&&0<e.naturalWidth?a++:e.addEventListener("load",function(){++a===t.length&&s()}),a===t.length&&s()}),window.addEventListener("resize",i),function(){for(var e=0;e<r.length;e++){var t=r[e],s=t.parentNode.querySelector(".js-card-caption"),a=t.querySelector(".js-card-ingredient").textContent;t.classList.contains("card--disabled")&&(s.textContent="Печалька, ".concat(a," закончился."),s.classList.add("text-small--warning")),t.addEventListener("click",c),t.addEventListener("mouseleave",l),t.addEventListener("mouseenter",o),d[e].addEventListener("click",n)}}()}();