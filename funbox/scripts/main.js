"use strict";!function(){var t,a,s,r=Array.prototype.slice.call(document.querySelectorAll(".js-card")),c=document.querySelectorAll(".js-card-btn"),e=Array.prototype.slice.call(document.querySelectorAll(".js-card-img"));function d(){var a=0;r.forEach(function(e){e.style.height="auto";var t=e.offsetHeight;a<t&&(a=t)}),r.forEach(function(e){e.style.height="".concat(a,"px")})}function n(e){var t=e.currentTarget,a=t.parentNode.querySelector(".js-card-caption"),s=t.parentNode.querySelector(".js-card-descr"),r=t.querySelector("[aria-pressed]"),c="true"===r.getAttribute("aria-pressed");t.classList.contains("card--abandoned")?(t.classList.remove("card--abandoned"),a.classList.remove("is-hidden"),s.classList.add("is-visually-hidden")):t.classList.contains("card--disabled")||(t.classList.toggle("card--selected"),r.setAttribute("aria-pressed",String(!c)),a.classList.toggle("is-hidden"),s.classList.toggle("is-visually-hidden"))}function i(e){var t=e.currentTarget.parentNode,a=t.parentNode.querySelector(".js-card"),s=t.parentNode.querySelector(".js-card-descr"),r=a.querySelector("[aria-pressed]");a.classList.contains("card--disabled")||(a.classList.remove("card--abandoned"),a.classList.add("card--selected"),r.setAttribute("aria-pressed",!0),t.classList.add("is-hidden"),s.classList.remove("is-visually-hidden"))}function l(e){var t=e.currentTarget;t.classList.contains("card--selected")&&(t.classList.remove("card--selected"),t.classList.add("card--abandoned"))}function o(e){var t=e.currentTarget;t.classList.contains("card--abandoned")&&(t.classList.remove("card--abandoned"),t.classList.add("card--selected"))}a=d,s=0,(t=e).forEach(function(e){e.complete&&0<e.naturalWidth?s++:e.addEventListener("load",function(){++s===t.length&&a()}),s===t.length&&a()}),window.addEventListener("resize",d),function(){for(var e=0;e<r.length;e++){var t=r[e],a=t.parentNode.querySelector(".js-card-caption"),s=t.querySelector(".js-card-ingredient").textContent;t.classList.contains("card--disabled")&&(a.textContent="Печалька, ".concat(s," закончился."),a.classList.add("text-small--warning")),t.addEventListener("click",n),t.addEventListener("mouseleave",l),t.addEventListener("mouseenter",o),c[e].addEventListener("click",i)}}()}();